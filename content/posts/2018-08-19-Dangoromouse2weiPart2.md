---
title: "だんごろまうす2weiの紹介 Part2"
date: "2018-08-19"
categories: ["ロボット"]
tags: ["電子工作", "マイクロマウス", "STM32"]
slug: "Dangoromouse2weiPart2"
draft: "true"
---
今日はだんごろまうす2weiのセンサーや制御周りの話をします. 去年のロボットの話なので筆者は正確に覚えてない可能性があるのであしからず.
## センサー
### 壁センサー
周囲の壁状況を見る壁センサーはidさんが作った回路を参考にして作りました. 実装の詳細はこちらの方を見てください.

簡単な仕組みとしてはだいたいこんな感じです.(ここにiPadで書いた絵)
私は発光回路に2KHzの信号をマイコンから与えて発光させた後, 受光回路で100KHzでサンプリングした後, その最大値(ここでは振幅という意味)からセンサー値を読んでいます.
適当な実装ですが, 私はこんなふうに実装していたらしいです.

### ジャイロセンサー
ICM-20602を使いました. 毎回ロボットが走る前にスタートゾーンでオフセットを取っていました. 

## 制御(怪しいので聞き流す程度にどうぞ)
### 壁制御
いわゆる, 両サイド
